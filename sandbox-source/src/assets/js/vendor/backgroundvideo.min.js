/*!
 * backgroundVideo.js v2.0.3
 * https://github.com/linnett/backgroundVideo
 */
!function(a,b,c,d){"use strict";function e(b,c){function d(){e.options.originalVideoW=e.options.$video[0].videoWidth,e.options.originalVideoH=e.options.$video[0].videoHeight,e.initialised||e.init()}var e=this;this.element=b,this.options=a.extend({},g,c),this._defaults=g,this._name=f,this.options.$video=a(b),this.detectBrowser(),this.shimRequestAnimationFrame(),this.options.has3d=this.detect3d(),this.options.$videoWrap.css({position:"relative",overflow:"hidden","z-index":"10"}),this.options.$video.css({position:"absolute","z-index":"1"}),this.options.$video.on("canplay canplaythrough",d),this.options.$video[0].readyState>3&&d()}var f="backgroundVideo",g={$videoWrap:a(".video-wrapper-inner"),$outerWrap:a(b),$window:a(b),minimumVideoWidth:400,preventContextMenu:!1,parallax:!0,parallaxOptions:{effect:1.5},pauseVideoOnViewLoss:!1};e.prototype={init:function(){var a=this;this.initialised=!0,this.lastPosition=-1,this.ticking=!1,this.options.$window.resize(function(){a.positionObject()}),this.options.parallax&&this.options.$window.on("scroll",function(){a.update()}),this.options.pauseVideoOnViewLoss&&this.playPauseVideo(),this.options.preventContextMenu&&this.options.$video.on("contextmenu",function(){return!1}),this.options.$window.trigger("resize")},requestTick:function(){var a=this;this.ticking||(b.requestAnimationFrame(a.positionObject.bind(a)),this.ticking=!0)},update:function(){this.lastPosition=b.pageYOffset,this.requestTick()},detect3d:function(){var a,e,f=c.createElement("p"),g={WebkitTransform:"-webkit-transform",OTransform:"-o-transform",MSTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};c.body.insertBefore(f,c.body.lastChild);for(a in g)f.style[a]!==d&&(f.style[a]="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)",e=b.getComputedStyle(f).getPropertyValue(g[a]));return f.parentNode.removeChild(f),e!==d&&"none"!==e},detectBrowser:function(){var a=navigator.userAgent.toLowerCase();a.indexOf("chrome")>-1||a.indexOf("safari")>-1?(this.options.browser="webkit",this.options.browserPrexix="-webkit-"):a.indexOf("firefox")>-1?(this.options.browser="firefox",this.options.browserPrexix="-moz-"):-1!==a.indexOf("MSIE")||a.indexOf("Trident/")>0?(this.options.browser="ie",this.options.browserPrexix="-ms-"):a.indexOf("Opera")>-1&&(this.options.browser="opera",this.options.browserPrexix="-o-")},scaleObject:function(){var a,b,c;return this.options.$videoWrap.width(this.options.$outerWrap.width()),this.options.$videoWrap.height(this.options.$outerWrap.height()),a=this.options.$window.width()/this.options.originalVideoW,b=this.options.$window.height()/this.options.originalVideoH,c=a>b?a:b,c*this.options.originalVideoW<this.options.minimumVideoWidth&&(c=this.options.minimumVideoWidth/this.options.originalVideoW),this.options.$video.width(c*this.options.originalVideoW),this.options.$video.height(c*this.options.originalVideoH),{xPos:-parseInt(this.options.$video.width()-this.options.$window.width())/2,yPos:parseInt(this.options.$video.height()-this.options.$window.height())/2}},positionObject:function(){var a=this,c=b.pageYOffset,d=this.scaleObject(this.options.$video,a.options.$videoWrap),e=d.xPos,f=d.yPos;f=this.options.parallax?c>=0?this.calculateYPos(f,c):this.calculateYPos(f,0):-f,a.options.has3d?(this.options.$video.css(a.options.browserPrexix+"transform3d","translate3d(-"+e+"px, "+f+"px, 0)"),this.options.$video.css("transform","translate3d("+e+"px, "+f+"px, 0)")):(this.options.$video.css(a.options.browserPrexix+"transform","translate(-"+e+"px, "+f+"px)"),this.options.$video.css("transform","translate("+e+"px, "+f+"px)")),this.ticking=!1},calculateYPos:function(a,b){var c,d;return c=parseInt(this.options.$videoWrap.offset().top),d=c-b,a=-(d/this.options.parallaxOptions.effect+a)},disableParallax:function(){this.options.$window.unbind(".backgroundVideoParallax")},playPauseVideo:function(){var a=this;this.options.$window.on("scroll.backgroundVideoPlayPause",function(){a.options.$window.scrollTop()<a.options.$videoWrap.height()?a.options.$video.get(0).play():a.options.$video.get(0).pause()})},shimRequestAnimationFrame:function(){for(var a=0,c=["ms","moz","webkit","o"],d=0;d<c.length&&!b.requestAnimationFrame;++d)b.requestAnimationFrame=b[c[d]+"RequestAnimationFrame"],b.cancelAnimationFrame=b[c[d]+"CancelAnimationFrame"]||b[c[d]+"CancelRequestAnimationFrame"];b.requestAnimationFrame||(b.requestAnimationFrame=function(c){var d=(new Date).getTime(),e=Math.max(0,16-(d-a)),f=b.setTimeout(function(){c(d+e)},e);return a=d+e,f}),b.cancelAnimationFrame||(b.cancelAnimationFrame=function(a){clearTimeout(a)})}},a.fn[f]=function(b){return this.each(function(){a.data(this,"plugin_"+f)||a.data(this,"plugin_"+f,new e(this,b))})}}(jQuery,window,document);