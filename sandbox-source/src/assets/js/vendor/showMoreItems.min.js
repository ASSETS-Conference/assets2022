/*!
 * showMoreItem.js Version:1.0.1
 * @copyright 2020 PeggyHsieh
 * @license MIT (https://github.com/peggy-hsieh/showMoreItems)
 */
!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"undefined"!=typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function($){var ShowMoreItems=window.ShowMoreItems||{};ShowMoreItems=function(){return function(t,e){$(t).addClass("showMoreItemsList");var o,r=this,n={nowNum:1,startNum:1,afterNum:1,original:!1,moreText:"Show more",noMoreText:"No more",backMoreText:"Reset",responsive:"",after:function(){}};o=$(t).data("showMoreItems")||{},r.defaults=$.extend({},n,e,o),r.options=$.extend({},n,e,o),r.registerBreakpoints(t),r.init(t)}}(),ShowMoreItems.prototype.init=function(t){var e=this;return e.sum=$(t).children().length,e.runData(t,e),!1},ShowMoreItems.prototype.runData=function(t,e){var o=this;o.goOut=!1,$(t).children().hide(),$(t).next(".button-box").remove(),o.nowNum=e.options.nowNum-1,o.goNum=o.nowNum+e.options.startNum,o.sum<=e.options.startNum&&(o.goNum=o.sum,o.goOut=!0);for(var r=o.nowNum;r<o.goNum;r++)$(t).children().eq(r).show(),o.nowNum+=1;o.goOut||$(t).after('<div class="button-box text-center mt-10"><button class="btn rounded-pill btn-soft-ash addListData">'+e.options.moreText+"</button></div>"),$(t).next().on("click",".addListData",function(r){o.goNum=o.nowNum+e.options.afterNum,o.sum<=o.goNum&&(o.goNum=o.sum,o.goOut=!0);for(var n=o.nowNum;n<o.goNum;n++)$(t).children().eq(n).show(),o.nowNum+=1;o.goOut&&e.options.original?$(this).text(e.options.backMoreText).addClass("original"):o.goOut&&$(this).text(e.options.noMoreText).addClass("d-none"),e.options.after()}),$(t).next().on("click",".original",function(t){return $(this).removeClass("original"),o.reflesh($(this)),!1})},ShowMoreItems.prototype.reflesh=function(t){thisE=t.parent().prev(),t.remove(),this.registerBreakpoints(t),this.init(thisE)},ShowMoreItems.prototype.registerBreakpoints=function(t){var e=this;e.options.responsive&&(ResponsiveArr=e.options.responsive,ResponsiveArr=ResponsiveArr.sort(function(t,e){return t.breakpoint>e.breakpoint?-1:1}),e.options.responsive=ResponsiveArr,e.Oindex=-1,e.Owidth=$(window).width(),$.each(e.options.responsive,function(t,o){$(window).width()<=o.breakpoint&&(e.Oindex=t,o=o.settings,e.options=$.extend({},e.options,o))}),$(window).resize(function(){return run=!1,$(window).width()<e.Owidth&&(e.Owidth=$(window).width(),$.each(e.options.responsive,function(t,o){if(e.Owidth<=o.breakpoint&&e.Oindex<t)return e.Oindex=t,o=o.settings,e.options=$.extend({},e.options,e.defaults),e.options=$.extend({},e.options,o),run=!0,e.Oindex})),$(window).width()>e.Owidth&&(e.Owidth=$(window).width(),$.each(ResponsiveArr,function(t,o){if(e.Owidth>o.breakpoint&&e.Oindex>t-1)return e.Oindex=t-1,-1!=e.Oindex?(o=ResponsiveArr[t-1].settings,e.options=$.extend({},e.options,e.defaults),e.options=$.extend({},e.options,o),run=!0):(e.options=$.extend({},e.options,e.defaults),run=!0),e.Oindex})),1==run&&e.runData(t,e),!1}))},$.fn.showMoreItems=function(){var t,e,o=this,r=arguments[0],n=Array.prototype.slice.call(arguments,1),s=o.length;for(t=0;t<s;t++)if("object"==typeof r||void 0===r?o[t].showMoreItems=new ShowMoreItems(o[t],r):e=o[t].showMoreItems[r].apply(o[t].showMoreItems,n),void 0!==e)return e;return o},$(function(){if($('[data-showMoreItems="true"]').length){if(selecter=$('[data-showMoreItems="true"]'),"true"==selecter.attr("data-showMoreItems")){var settings={nowNum:1,getView:0,startNum:1,afterNum:1,original:!1,moreText:"Show more",noMoreText:"No more",backMoreText:"Reset",responsive:"",after:function(){}};selecter.attr("data-nowNum")&&(settings.nowNum=parseInt(selecter.attr("data-nowNum"))),selecter.attr("data-startNum")&&(settings.startNum=parseInt(selecter.attr("data-startNum"))),selecter.attr("data-afterNum")&&(settings.afterNum=parseInt(selecter.attr("data-afterNum"))),selecter.attr("data-original")&&(settings.original=Boolean(selecter.attr("data-original"))),selecter.attr("data-moreText")&&(settings.moreText=selecter.attr("data-moreText")),selecter.attr("data-noMoreText")&&(settings.noMoreText=selecter.attr("data-noMoreText")),selecter.attr("data-backMoreText")&&(settings.backMoreText=selecter.attr("data-backMoreText")),selecter.attr("data-responsive")&&(settings.responsive=eval(selecter.attr("data-responsive")))}$('[data-showMoreItems="true"]').showMoreItems(settings)}})});